{% extends "base.html" %}

{% block title %}Ligas Especiales{% endblock %}

{% block content %}
<div class="space-y-8">
    {% if error %}
        <div class="card p-6 text-center text-red-500">{{ error }}</div>
    {% elif leagues %}
        {% for league in leagues %}
        <div class="card p-6 rounded-xl shadow-lg">
            <!-- Información General de la Liga -->
            <div class="mb-6 border-b border-gray-300 pb-4">
                <h2 class="font-header text-3xl font-bold text-gray-900">{{ league.nombre }}</h2>
                <!-- CAMBIO: Se añade la clase 'whitespace-pre-wrap' para respetar los saltos de línea -->
                <p class="mt-2 text-gray-600 whitespace-pre-wrap">{{ league.descripcion }}</p>
                <p class="mt-2 text-sm"><strong class="font-medium text-green-700">Premio:</strong> {{ league.premio }}</p>
            </div>

            <!-- Tabla de Resultados -->
            <div class="overflow-x-auto">
                <table class="min-w-full text-center">
                    <thead>
                        <tr>
                            {% for header in league.headers %}
                            <th class="p-3 text-sm font-bold uppercase tracking-wider 
                                       {% if loop.first %}text-left{% endif %} 
                                       {% if 'Total' in header %}text-green-700{% else %}text-gray-600{% endif %}">
                                {{ header }}
                            </th>
                            {% endfor %}
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-200">
                        {% for row in league.rows %}
                        <tr class="hover:bg-gray-50 transition-colors">
                            {% for cell in row %}
                            <td class="p-3 whitespace-nowrap 
                                       {% if loop.first %}text-left font-medium text-gray-800{% endif %}
                                       {% if 'Total' in league.headers[loop.index0] %}font-bold text-green-700{% endif %}">
                                {{ cell }}
                            </td>
                            {% endfor %}
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <p class="text-center card p-6">No se encontraron datos para las Ligas Especiales.</p>
    {% endif %}
</div>
{% endblock %}
